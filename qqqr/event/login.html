<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login Events &mdash; aioqzone 0.9.10.dev1 文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/autodoc_pydantic.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/penguin-blob.webp"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="二维码登录" href="../qr/index.html" />
    <link rel="prev" title="事件与回调" href="hook.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> aioqzone
            <img src="../../_static/penguin-blob.webp" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">目录</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../aioqzone/index.html">aioqzone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../jssupport/index.html">jssupport</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QQQR</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">aioqzone 事件-回调系统</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="hook.html">事件与回调</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Login Events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aioqzone.event.login.LoginMethod"><code class="docutils literal notranslate"><span class="pre">LoginMethod</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#aioqzone.event.login.LoginEvent"><code class="docutils literal notranslate"><span class="pre">LoginEvent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#aioqzone.event.login.QREvent"><code class="docutils literal notranslate"><span class="pre">QREvent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#aioqzone.event.login.UPEvent"><code class="docutils literal notranslate"><span class="pre">UPEvent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#aioqzone.event.login.Loginable"><code class="docutils literal notranslate"><span class="pre">Loginable</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../qr/index.html">二维码登录</a></li>
<li class="toctree-l2"><a class="reference internal" href="../up/index.html">用户名-密码登录</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base.html">QQQR Bases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exception.html">QQQR Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">相关链接</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../disclaimers.html">免责声明</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/aioqzone/aioqzone">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/aioqzone">PyPI</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/aioqzone/aioqzone/blob/beta/CONTRIBUTING.md">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">aioqzone</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">QQQR</a> &raquo;</li>
          <li><a href="index.html">aioqzone 事件-回调系统</a> &raquo;</li>
      <li>Login Events</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/qqqr/event/login.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="login-events">
<h1>Login Events<a class="headerlink" href="#login-events" title="此标题的永久链接"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="aioqzone.event.login.LoginMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aioqzone.event.login.</span></span><span class="sig-name descname"><span class="pre">LoginMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aioqzone.event.login.LoginMethod" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aioqzone.event.login.LoginEvent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aioqzone.event.login.</span></span><span class="sig-name descname"><span class="pre">LoginEvent</span></span><a class="headerlink" href="#aioqzone.event.login.LoginEvent" title="永久链接至目标"></a></dt>
<dd><p>Defines usual events happens during login.</p>
<dl class="py method">
<dt class="sig sig-object py" id="aioqzone.event.login.LoginEvent.LoginFailed">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LoginFailed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aioqzone.event.login.LoginEvent.LoginFailed" title="永久链接至目标"></a></dt>
<dd><p>Will be emitted on login failed.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meth</strong> (<a class="reference internal" href="#aioqzone.event.login.LoginMethod" title="aioqzone.event.login.LoginMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoginMethod</span></code></a>) – indicate what login method this login attempt used</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="（在 Python v3.11）"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Err msg, defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aioqzone.event.login.LoginEvent.LoginSuccess">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LoginSuccess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aioqzone.event.login.LoginEvent.LoginSuccess" title="永久链接至目标"></a></dt>
<dd><p>Will be emitted after login success.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>meth</strong> (<a class="reference internal" href="#aioqzone.event.login.LoginMethod" title="aioqzone.event.login.LoginMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoginMethod</span></code></a>) – indicate what login method this login attempt used</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aioqzone.event.login.QREvent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aioqzone.event.login.</span></span><span class="sig-name descname"><span class="pre">QREvent</span></span><a class="headerlink" href="#aioqzone.event.login.QREvent" title="永久链接至目标"></a></dt>
<dd><p>Defines usual events happens during QR login.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aioqzone.event.login.UPEvent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aioqzone.event.login.</span></span><span class="sig-name descname"><span class="pre">UPEvent</span></span><a class="headerlink" href="#aioqzone.event.login.UPEvent" title="永久链接至目标"></a></dt>
<dd><p>Defines usual events happens during password login.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aioqzone.event.login.Loginable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aioqzone.event.login.</span></span><span class="sig-name descname"><span class="pre">Loginable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aioqzone.event.login.Loginable" title="永久链接至目标"></a></dt>
<dd><p>Abstract class represents a login manager.
It is a <code class="xref py py-class docutils literal notranslate"><span class="pre">Emittable</span></code> class which can emit <a class="reference internal" href="#aioqzone.event.login.LoginEvent" title="aioqzone.event.login.LoginEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoginEvent</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="aioqzone.event.login.Loginable._new_cookie">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_new_cookie</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aioqzone.event.login.Loginable._new_cookie" title="永久链接至目标"></a></dt>
<dd><p>Subclasses <em>must</em> implement this method to return a cookie dict.</p>
<dl class="field-list simple">
<dt class="field-odd">返回类型</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>cookie dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aioqzone.event.login.Loginable.cookie">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cookie</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="（在 Python v3.11）"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.11）"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.11）"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#aioqzone.event.login.Loginable.cookie" title="永久链接至目标"></a></dt>
<dd><p>Get a cookie dict using any method. Allows cached cookie.</p>
<dl class="field-list simple">
<dt class="field-odd">返回类型</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>cookie. Cached cookie is preferable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aioqzone.event.login.Loginable.gtk">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gtk</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="（在 Python v3.11）"><span class="pre">int</span></a></em><a class="headerlink" href="#aioqzone.event.login.Loginable.gtk" title="永久链接至目标"></a></dt>
<dd><p>Calculate <code class="docutils literal notranslate"><span class="pre">gtk</span></code> using <code class="docutils literal notranslate"><span class="pre">pskey</span></code> filed in the cookie.</p>
<dl class="field-list simple">
<dt class="field-odd">返回类型</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>gtk</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><code class="docutils literal notranslate"><span class="pre">0</span></code> denotes no existing login.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">qqqr.utils.encrypt.gtk()</span></code></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="aioqzone.event.login.Loginable.last_login">
<span class="sig-name descname"><span class="pre">last_login</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="（在 Python v3.11）"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#aioqzone.event.login.Loginable.last_login" title="永久链接至目标"></a></dt>
<dd><p>Last login time stamp. 0 represents no login since created.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aioqzone.event.login.Loginable.new_cookie">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">new_cookie</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aioqzone.event.login.Loginable.new_cookie" title="永久链接至目标"></a></dt>
<dd><p>Get a new cookie dict, which means cached cookie is not allowed.
Generally, this will trigger a login.</p>
<p>This method uses <a class="reference external" href="https://docs.python.org/3/library/asyncio-sync.html#asyncio.Lock" title="（在 Python v3.11）"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Lock</span></code></a> to ensure that only one request can trigger
an actual login at the same time, other requests will block until the first is complete
and share the cookie from this single login.</p>
<dl class="field-list simple">
<dt class="field-odd">返回</dt>
<dd class="field-odd"><p>cookie. Shouldn’t be a cached one.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hook.html" class="btn btn-neutral float-left" title="事件与回调" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="../qr/index.html" class="btn btn-neutral float-right" title="二维码登录" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, aioqzone.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>